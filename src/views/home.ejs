<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link rel="stylesheet" href="/home.css">
</head>
<body>
    
    <h1 class="titulo_da_pagina fonte_branca">Bem vindo à página de admin</h1>
    <div id="area_formularios">

        <div id="area_formulario_projetos">
            <h2 class="fonte_branca">Adicionar Projeto</h2>
            <form action="/addprojeto" method="post" enctype="multipart/form-data">
                <label for="nomeProjeto">
                    <h3>Nome</h3>
                    <input type="text" name="titulo" id="nomeProjeto">
                </label>
                <label for="imgProjeto">
                    <h3>Imagem</h3>
                    <input type="file" name="img" id="imgProjeto">
                </label>
                <label for="descProjeto">
                    <h3>Descrição</h3>
                    <textarea name="descricao" id="descProjeto" rows="10"></textarea>
                </label>
                <label for="linkProjeto">
                    <h3>Link</h3>
                    <input type="url" name="link" id="linkProjeto">
                </label>
                <label for="tecnologiasProjeto">
                    <h3>Tecnologias</h3>
                    <% tecnologias.forEach(tecnologia => { %>
                        <label for="tecnologiaProjeto<%= tecnologia.nome %>" class="projetosTecnologiaCheckboxArea">
                            <input type="checkbox" name="tecnologias" id="tecnologiaProjeto<%= tecnologia.nome %>" value="<%= tecnologia.nome %>"> 
                            <span><%= tecnologia.nome %></span>
                        </label>

                    <% }) %>
                </label>
                <input type="submit" value="Adicionar" class="submit">
            </form>
            <table id="tabela_projetos">
                <tr>
                    <th>Nome</th>
                    <th>Imagem</th>
                    <th>Descrição</th>
                    <th>Link</th>
                    <th>Tecnologias</th>
                </tr>
                <% projetos.forEach(projeto => { %>
                    <tr>
                        <td><%= projeto.titulo %></td>
                        <td><%= projeto.img %></td>
                        <td><%= projeto.descricao %></td>
                        <td><%= projeto.link %></td>
                        <td>
                            <% if (projeto.tecnologias != undefined){
    
                                projeto.tecnologias.forEach(tecnologia =>{ %>
                                <div class="projetoTecnologiasTabela"><%= tecnologia %></div>
                            <% })
                                 } %>
                        </td>
                        <td><a href="/editarprojeto/<%= projeto._id %>">editar</a></td>
                        <td><a href="/delprojeto/<%= projeto._id %>">excluir</a></td>
                    </tr>
                <% }) %> 
            </table>
        </div>
        <div id="area_formulario_tecnologias">
            <h2 class="fonte_branca">Adicionar Tecnologia</h2>
            <form action="/addtecnologia" method="post" enctype="multipart/form-data">
                <label for="nomeTecnologia">
                    <h3>Nome</h3>
                    <input type="text" name="nome" id="nomeTecnologia">
                </label>
                <label for="imgTecnologia">
                    <h3>Imagem</h3>
                    <input type="file" name="img" id="imgTecnologia">
                </label>
                <label for="tipoTecnologia">
                    <h3>Tipo</h3>
                    <select name="tipo" id="tipoTecnologia">
                        <option value="front-end">Front-End</option>
                        <option value="back-end">Back-End</option>
                        <option value="outro">Outro</option>
                    </select>
                </label>
                <label for="creditoTecnologia">
                    <h3>Link Original</h3>
                    <input type="link" name="credito" id="creditoTecnologia">
                </label>
                <input type="submit" value="Adicionar" class="submit">
            </form>
            <table id="tabela_tecnologias">
                <tr>
                    <th>Nome</th>
                    <th>Tipo</th>
                    <th>Image</th>
                    <th>Link Original</th>
                </tr>
                <% tecnologias.forEach(tecnologia => { %>
                    <tr>
                        <td><%= tecnologia.nome %></td>
                        <td><%= tecnologia.tipo %></td>
                        <td><%= tecnologia.img %></td>
                        <td><%= tecnologia.credito %></td>
                        <td><a href="/editartecnologia/<%= tecnologia._id %>">editar</a></td>
                        <td><a href="/deltecnologia/<%= tecnologia._id %>">excluir</a></td>
                    </tr>
                <% }) %> 
            </table>
        </div>
    </div>
    
</body>
</html>